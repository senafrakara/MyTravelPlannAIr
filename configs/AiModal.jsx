import Constants from 'expo-constants'

const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = Constants?.expoConfig?.extra?.GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    // safetySettings: Adjust safety settings
    // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan fro Location: İzmir, Türkiye, for 4 Day and 3 Night for A Couple with a Moderate with a Flight details, Flight Price with Booking url, Hotels options list with Hotel Name, Hotel Address, Place Image Url, Geo Coordinates, Ticket Pricing,  Time t travel each of the location for 4 and 3 with each day plan with best time to visit in JSON format.\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"tripName\": \"Romantic Getaway in İzmir\",\n  \"destination\": \"İzmir, Türkiye\",\n  \"duration\": \"4 days, 3 nights\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Moderate\",\n  \"flightDetails\": {\n    \"departureAirport\": \"Istanbul Airport (IST)\", // Replace with your departure airport\n    \"arrivalAirport\": \"İzmir Adnan Menderes Airport (ADB)\",\n    \"flightPrice\": \"$100 (Round Trip)\", // Approximate price, adjust based on your search\n    \"bookingUrl\": \"https://www.skyscanner.com/flights/\" // Replace with actual booking URL\n  },\n  \"hotels\": [\n    {\n      \"name\": \"Hilton Garden Inn İzmir\",\n      \"address\": \"2021. Sokak No:2, Alsancak, 35220 Konak/İzmir, Türkiye\",\n      \"imageUrl\": \"https://www.hilton.com/en/hotels/izmir-garden-inn/photos/\",\n      \"geoCoordinates\": [38.4158, 27.1403],\n      \"price\": \"$100-$150 per night\"\n    },\n    {\n      \"name\": \"Wyndham Garden İzmir\",\n      \"address\": \"Balçova, 35240 Konak/İzmir, Türkiye\",\n      \"imageUrl\": \"https://www.wyndhamhotels.com/wyndham-garden/izmir-turkey/overview\",\n      \"geoCoordinates\": [38.4221, 27.1325],\n      \"price\": \"$80-$120 per night\"\n    },\n    {\n      \"name\": \"Sheraton İzmir Hotel\",\n      \"address\": \"Mithatpaşa Cad. No:128, 35210 Konak/İzmir, Türkiye\",\n      \"imageUrl\": \"https://www.marriott.com/hotels/travel/izmir-sheraton-izmir-hotel/\",\n      \"geoCoordinates\": [38.4157, 27.1450],\n      \"price\": \"$120-$180 per night\"\n    }\n  ],\n  \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Arrival in İzmir & Coastal Charm\",\n      \"activities\": [\n        {\n          \"name\": \"Arrival at İzmir Adnan Menderes Airport (ADB)\",\n          \"time\": \"12:00 PM\",\n          \"description\": \"Transfer to your hotel (approx. 1 hour drive).\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Check in at your hotel\",\n          \"time\": \"1:00 PM\",\n          \"description\": \"Settle in and relax.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Lunch with a View at Kordon\",\n          \"time\": \"2:00 PM\",\n          \"description\": \"Enjoy a leisurely lunch at a restaurant along the picturesque Kordon waterfront.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"name\": \"Explore the İzmir Clock Tower\",\n          \"time\": \"3:30 PM\",\n          \"description\": \"Admire this iconic landmark and take photos.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Sunset Stroll along Kordon\",\n          \"time\": \"4:30 PM\",\n          \"description\": \"Enjoy a romantic walk along the Kordon promenade as the sun sets over the Aegean Sea.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Dinner at a Restaurant with Live Music\",\n          \"time\": \"7:00 PM\",\n          \"description\": \"Dine at a restaurant with live music in the Alsancak district.\",\n          \"duration\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Ancient Ephesus & Turkish Delights\",\n      \"activities\": [\n        {\n          \"name\": \"Breakfast at the hotel\",\n          \"time\": \"9:00 AM\",\n          \"description\": \"Start your day with a delicious breakfast.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Visit Ephesus\",\n          \"time\": \"10:00 AM\",\n          \"description\": \"Explore the ancient city of Ephesus, a UNESCO World Heritage Site (approx. 2 hours drive).\",\n          \"duration\": \"4 hours\" // Including travel time\n        },\n        {\n          \"name\": \"Lunch at a Local Restaurant in Ephesus\",\n          \"time\": \"2:00 PM\",\n          \"description\": \"Enjoy a traditional Turkish lunch near Ephesus.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"name\": \"Turkish Delight Tasting & Shopping\",\n          \"time\": \"3:30 PM\",\n          \"description\": \"Visit a local Turkish Delight shop in İzmir for a tasting and souvenir shopping experience.\",\n          \"duration\": \"2 hours\"\n        },\n        {\n          \"name\": \"Dinner at a Restaurant in Alsancak\",\n          \"time\": \"7:00 PM\",\n          \"description\": \"Dine at a restaurant in Alsancak, a lively district with many dining options.\",\n          \"duration\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"title\": \"Charming Çeşme & Coastal Relaxation\",\n      \"activities\": [\n        {\n          \"name\": \"Breakfast at the hotel\",\n          \"time\": \"9:00 AM\",\n          \"description\": \"Start your day with a delicious breakfast.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Day Trip to Çeşme\",\n          \"time\": \"10:00 AM\",\n          \"description\": \"Drive to Çeşme (approx. 1.5 hours), a coastal town known for its beaches and nightlife.\",\n          \"duration\": \"4 hours\" // Including travel time\n        },\n        {\n          \"name\": \"Visit Çeşme Castle\",\n          \"time\": \"11:30 AM\",\n          \"description\": \"Explore the historical Çeşme Castle.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"name\": \"Lunch at a Restaurant with Sea Views\",\n          \"time\": \"1:00 PM\",\n          \"description\": \"Enjoy lunch at a restaurant overlooking the Aegean Sea.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"name\": \"Relax on the Beach\",\n          \"time\": \"2:30 PM\",\n          \"description\": \"Spend some time relaxing on one of Çeşme's beautiful beaches like Aya Yorgi or Ilica.\",\n          \"duration\": \"3 hours\"\n        },\n        {\n          \"name\": \"Dinner at a Seafood Restaurant in Çeşme\",\n          \"time\": \"6:00 PM\",\n          \"description\": \"Dine at a seafood restaurant in Çeşme and enjoy fresh local cuisine.\",\n          \"duration\": \"2 hours\"\n        },\n        {\n          \"name\": \"Return to İzmir\",\n          \"time\": \"8:00 PM\",\n          \"description\": \"Drive back to İzmir (approx. 1.5 hours).\",\n          \"duration\": \"1.5 hours\" \n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"title\": \"Farewell to İzmir & Departure\",\n      \"activities\": [\n        {\n          \"name\": \"Breakfast at the hotel\",\n          \"time\": \"9:00 AM\",\n          \"description\": \"Enjoy a leisurely breakfast.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Visit the İzmir Museum of Archaeology\",\n          \"time\": \"10:00 AM\",\n          \"description\": \"Explore artifacts from ancient civilizations.\",\n          \"duration\": \"2 hours\"\n        },\n        {\n          \"name\": \"Lunch at a Local Restaurant\",\n          \"time\": \"12:00 PM\",\n          \"description\": \"Enjoy a final delicious Turkish meal.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"name\": \"Souvenir Shopping\",\n          \"time\": \"1:30 PM\",\n          \"description\": \"Shop for souvenirs at Kemeraltı Bazaar if you have time.\",\n          \"duration\": \"2 hours\" \n        },\n        {\n          \"name\": \"Check out of your hotel\",\n          \"time\": \"3:30 PM\",\n          \"description\": \"Check out of your hotel.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Transfer to İzmir Adnan Menderes Airport (ADB)\",\n          \"time\": \"4:30 PM\",\n          \"description\": \"Head to the airport for your departure (approx. 1 hour drive).\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"name\": \"Departure from İzmir\",\n          \"time\": \"5:30 PM\",\n          \"description\": \"Depart from İzmir Adnan Menderes Airport.\",\n          \"duration\": \"N/A\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Key Points:**\n\n* **Flexibility:** This itinerary is a suggestion, feel free to adjust the timings and activities based on your preferences. \n* **Travel Times:** The travel times between destinations are estimates. Check actual travel times using Google Maps or other navigation apps.\n* **Transportation:** Consider using taxis, public transport (buses or trams), or rental cars for transportation.\n* **Weather:** İzmir has a Mediterranean climate, so the best time to visit is during spring (April-May) or fall (September-October) for pleasant weather. Summers can be hot and humid.\n* **Reservations:** It's recommended to book flights, hotels, and tours in advance, especially during peak season.\n* **Local Cuisine:**  Explore the vibrant İzmir culinary scene and indulge in delicious Turkish cuisine. \n* **Culture:** Embrace the rich cultural heritage of İzmir by visiting historical sites and museums.\n* **Romance:**  Make your trip extra special by enjoying romantic walks, sunset views, and cozy dinners. \n\nThis itinerary provides a solid foundation for a romantic getaway in İzmir. Remember to customize it to match your interests and budget for an unforgettable experience! \n" },
            ],
        },
    ],
});

//const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//console.log(result.response.text());
